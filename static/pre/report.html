<!DOCTYPE html>
<html>
<head>
<title>report.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="course-project-cisc3002">Course Project-CISC3002</h1>
<p>ZHANG HUAKANG/ DB927606</p>
<hr>
<h2 id="introduction">Introduction</h2>
<p>This application named <em>King of Karaoke</em> is a quiz game about music. Users will login in with their account(they can use Google Account), answer a number of question which are randomly selected from a question's library within the specified time, finally submit their score to the server and let other users know their grade.</p>
<p>In this project, I use <strong>Java</strong> and <strong>Android SDK</strong> to develop the front-end application. As for the back end which is used to store data, I use <strong>Python</strong> and <strong>Django Framework</strong> to develop it.</p>
<p>Since the course focuses on Android application development, I will not go into details about the specific implementation of the back-end.  The source code of the whole project and other data used in this was upload to <strong><a href="https://github.com/BoxMars/AndroidDevCourseProject">Github</a></strong>.</p>
<hr>
<h2 id="details">Details</h2>
<h3 id="login-logout">Login/ Logout</h3>
<p>This part uses a third-party services named <strong><a href="https://auth0.com/">Auth0</a></strong> to implement. When user click the button to login or lognout.</p>
<!-- ```Java
Auth0 auth0=new Auth0();

private void login(){
    WebAuthProvider.login(auth0)
        .withScheme("demo")
        .withAudience(String.format("https://%s/userinfo", getString(R.string.com_auth0_domain)))
        .start(this, new Callback<Credentials, AuthenticationException>() {
            @Override
            public void onSuccess(Credentials credentials) {
                /*
                * get user's info and store them.
                */
            }

            @Override
            public void onFailure(AuthenticationException e) {}
        });

    }

private void logout() {
    WebAuthProvider.logout(auth0)
        .withScheme("demo")
        .start(this, new Callback<Void, AuthenticationException>() {
            @Override
            public void onSuccess(@Nullable Void payload) {
                /*
                * clear the user's data.
                */
            }

            @Override
            public void onFailure(@NonNull AuthenticationException error) {}
        });

}
``` -->
<p>When user click <em>Login</em> button, <em>Auth0</em> will bring up a browser window.</p>
<div  align="center">    
    <img src="img/login.png" width = "30%" alt="图片名称" align=center style="margin:10px"/><img src="img/main.png" width = "30%" alt="图片名称" align=center style="margin:10px"/>
</div>
<p>After the user login successfully, the application will get the username and the email which will be stored and the email will be used as the unique identification information of the scoring system.</p>
<h3 id="update-the-data-library">Update the data library</h3>
<p>When the application starts, it will send a request to the server and get the latest version number of the songs library (<a href="https://cisc3002api.boxz.dev/version">VERSION_API</a>). At the same time, it will also get the version information stored locally. If those two version number are different, the application will call a new <em>Activity</em> with dialog theme to ask the user whether to update the information. If user choose <em>Yes</em>, the application will request the songs infomation in <code>JSON</code> (<a href="https://cisc3002api.boxz.dev/songs">SONGS_API</a>), like this:</p>
<pre class="hljs"><code><div>[
    {
        <span class="hljs-attr">"song"</span>: <span class="hljs-string">"Chocolate"</span>, 
        <span class="hljs-attr">"singer"</span>: <span class="hljs-string">"Alfonso Lugo"</span>, 
        <span class="hljs-attr">"songURL"</span>: <span class="hljs-string">"https://github.com/BoxMars/AndroidDevCourseProject/raw/master/static/Alfonso_Lugo_-_Chocolate.mp3"</span>
    }, 
    {
        <span class="hljs-attr">"song"</span>: <span class="hljs-string">"Study and Relax"</span>,
        <span class="hljs-attr">"singer"</span>: <span class="hljs-string">"D JAY KOI"</span>, 
        <span class="hljs-attr">"songURL"</span>: <span class="hljs-string">"https://github.com/BoxMars/AndroidDevCourseProject/raw/master/static/D_JAY_KOI_-_HOUSE_PARTY_._Feat_Fil_Straughan__.mp3"</span>
    }, 
    ...
    ...
    ...
]
</div></code></pre>
<p>Those information will be stored in application's internal storage. A <code>DownloadAsynTask</code> will start to download all music and store them in internal storage.</p>
<div  align="center">    
    <img src="img/update1.png" width = "30%" alt="图片名称" align=center style="margin:10px"/><img src="img/update2.png" width = "30%" alt="图片名称" align=center style="margin:10px"/>
</div>
<h3 id="quiz">Quiz</h3>
<p>The Quiz activeity consists of five parts. On the top there is a <em>countdown timer</em>. Under the coundown timer is the <em>music player</em> part and the <em>cover image</em> of the music. Then, there are four radio buttons and three buttons, <em>Previous</em>, <em>Next</em>, and <em>Submit</em>.</p>
<div  align="center">    
    <img src="img/quiz2.png" width = "30%" alt="图片名称" align=center style="margin:10px"/><img src="img/quiz1.png" width = "30%" alt="图片名称" align=center style="margin:10px"/>
</div>
Every question are chosen from question library randomly, and the option of each question are also randomly generated. 
<p>The function that several questions can be swiped on the screen is implemented by <code>ViewPage2</code> and <code>Fragment</code>. The two buttons at the bottom can also be used to browse between different questions.</p>
<h4 id="countdown-timer">Countdown Timer</h4>
<p>User can submit his/her answers before within the specified time, or answers are automatically submitted, when time runs out. The function which will be called when the time is up:</p>
<pre class="hljs"><code><div>countDownTimer=<span class="hljs-keyword">new</span> CountDownTimer(<span class="hljs-number">300000</span>,<span class="hljs-number">1000</span>) {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onTick</span><span class="hljs-params">(<span class="hljs-keyword">long</span> millisUntilFinished)</span> </span>{
        TextView textView=findViewById(R.id.timerTextView);
        textView.setText(millisUntilFinished/<span class="hljs-number">1000</span>+<span class="hljs-string">"s/300s"</span>);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFinish</span><span class="hljs-params">()</span> </span>{
        Intent intent1=<span class="hljs-keyword">new</span> Intent();
        intent1.setClass(getApplicationContext(),ScoreActivity<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;
        startActivity(intent1);
    }
};
countDownTimer.start();
</div></code></pre>
<h4 id="music-player">Music Player</h4>
<p>It has three function: <em>Start</em>, <em>Pause</em> and <em>Stop</em> to control the music playing.</p>
<div  align="center">    
    <img src="img/music1.png" width = "40%" alt="图片名称" align=center style="margin:10px"/><img src="img/music2.png" width = "40%" alt="图片名称" align=center style="margin:10px"/>
</div>
The first image shows the music is stopped or not started. The second image shows that the music is paused after starting.
<p>The cover image are directly from MP3 file's metadata. I use <code>MediaMetadataRetriever</code> to decode the information and show it on the screen.</p>
<pre class="hljs"><code><div>MediaMetadataRetriever mmr = <span class="hljs-keyword">new</span> MediaMetadataRetriever();
mmr.setDataSource(String.valueOf(<span class="hljs-keyword">new</span> File(getActivity().getFilesDir(),<span class="hljs-string">"mp3 file name"</span>)));
<span class="hljs-keyword">byte</span> [] data = mmr.getEmbeddedPicture();
Bitmap bitmap = BitmapFactory.decodeByteArray(data, <span class="hljs-number">0</span>, data.length);
imageView.setImageBitmap(bitmap);
</div></code></pre>
<p>When the music starts, there will be a handler to get the current music playback progress and pass the data to seekbar.</p>
<pre class="hljs"><code><div>Handler handler=<span class="hljs-keyword">new</span> Handler(Looper.myLooper());
Runnable runnable=<span class="hljs-keyword">new</span> Runnable() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span>(mediaPlayer!=<span class="hljs-keyword">null</span>)
        {
            seekBar.setProgress(mediaPlayer.getCurrentPosition());
            handler.postDelayed(<span class="hljs-keyword">this</span>, <span class="hljs-number">200</span>);
        }
    }
};
mediaPlayer.start();
seekBar.setMax(mediaPlayer.getDuration());
handler.postDelayed(runnable,<span class="hljs-number">200</span>);
</div></code></pre>
<h4 id="previous-and-next-button">Previous and Next button</h4>
<p>The buttons <em>Previous</em> and <em>Next</em> are in the <code>Fragment</code>, when they are clicked, system will call the following function：</p>
<pre class="hljs"><code><div>ViewPager2 viewPager2=getActivity().findViewById(R.id.viewPage);
nextBtn.setOnClickListener(<span class="hljs-keyword">new</span> View.OnClickListener() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span><span class="hljs-params">(View v)</span> </span>{
        <span class="hljs-keyword">if</span> (viewPager2.getCurrentItem()&lt;Question.questionArrayList.size()) {
            viewPager2.setCurrentItem(viewPager2.getCurrentItem() + <span class="hljs-number">1</span>, <span class="hljs-keyword">true</span>);
        }
    }
});

previousBtn.setOnClickListener(<span class="hljs-keyword">new</span> View.OnClickListener() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span><span class="hljs-params">(View v)</span> </span>{
        <span class="hljs-keyword">if</span> (viewPager2.getCurrentItem()&gt;<span class="hljs-number">0</span>) {
            viewPager2.setCurrentItem(viewPager2.getCurrentItem() - <span class="hljs-number">1</span>, <span class="hljs-keyword">true</span>);
        }
    }
});
</div></code></pre>
<h4 id="submit-button">Submit button</h4>
<p>When user click the submit button or the time is up, the apllication will bring up the <code>Score</code> activity and beacuse the <code>Quiz</code> activety's lunch mode is  <code>singleInstance</code> which means that when user click <code>back</code> button in <code>Score</code> activity, he/her will come back to the <code>Login/Logout</code> activety to start a new quiz or logout instead of <code>Quiz</code> activity.</p>
<div  align="center">    
    <img src="img/submit1.png" width = "40%" alt="图片名称" align=center style="margin:10px"/><img src="img/submit2.png" width = "40%" alt="图片名称" align=center style="margin:10px"/>
</div>
<div  align="center"> 
    <img src="img/submit3.png" width = "40%" alt="图片名称" align=center style="margin:10px"/><img src="img/submit4.png" width = "40%" alt="图片名称" align=center style="margin:10px"/>
</div>
<h3 id="score">Score</h3>
<p>When user click the <code>Submit</code> button in <code>Quiz</code> activety, the <code>Score</code> activity will be called. At the begin of the activity starts,the application will calculate the user's score and send the result to the server by the API (<code>SUBMIT_API</code> : https://API_SERVER/submitrank/?username=test&amp;email=test@test.com&amp;score=8). Then the application will request to get the record of all users by <a href="http://cisc3002api.boxz.dev/getrank">GETRANK_API</a>. The following <code>JSON</code> data is an example:</p>
<pre class="hljs"><code><div>[
    {
        <span class="hljs-attr">"username"</span>: <span class="hljs-string">"Box"</span>, 
        <span class="hljs-attr">"email"</span>: <span class="hljs-string">"test@gmail.com"</span>, 
        <span class="hljs-attr">"score"</span>: <span class="hljs-number">0</span>
    }
    ...
    ...
]
</div></code></pre>
<p>After getting response, the application will sort the data according to the score and display them in the user interface in order from high to low. In particular, the font size of the current user’s information is larger. If user get full mark, a congratulation image will be shown.</p>
<div  align="center">    
    <img src="img/submit3.png" width = "40%" alt="图片名称" align=center style="margin:10px"/>
    <img src="img/score1.png" width = "40%" alt="图片名称" align=center style="margin:10px"/>
</div>
The sorting implementation:
<pre class="hljs"><code><div><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; users.size()-<span class="hljs-number">1</span>; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i+<span class="hljs-number">1</span>; j &lt; users.size(); j++) {
        <span class="hljs-keyword">if</span> (users.get(j).getScore()&gt;users.get(i).getScore()){
            User t=users.get(j);
            users.set(j,users.get(i));
            users.set(i,t);
        }
    }
}
</div></code></pre>
<hr>
<h2 id="some-implementations">Some implementations</h2>
<h3 id="the-randomly-selection-of-questions">The randomly selection of questions</h3>
<p>After the data is stored in memory,</p>
<pre class="hljs"><code><div>ArrayList&lt;Question&gt; questionArrayList=<span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
Random random=<span class="hljs-keyword">new</span> Random();
<span class="hljs-keyword">while</span> (questionArrayList.size()&lt;=Math.min(<span class="hljs-number">8</span>,Question.questionArrayList.size())){
    <span class="hljs-keyword">int</span>  result=random.nextInt(Question.questionArrayList.size());
    <span class="hljs-keyword">if</span> (!questionArrayList.contains(Question.questionArrayList.get(result))){
        questionArrayList.add(Question.questionArrayList.get(result));
    }
}
Question.questionArrayList=questionArrayList;
Question.generateOption();
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">generateOption</span><span class="hljs-params">()</span></span>{
    isCorrectList=<span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
    userAnswer=<span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; questionArrayList.size(); i++) {
        ArrayList&lt;Integer&gt; options=<span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
        Random random=<span class="hljs-keyword">new</span> Random();
        <span class="hljs-keyword">while</span>(options.size()&lt;=<span class="hljs-number">3</span>){
            <span class="hljs-keyword">int</span> result=random.nextInt(questionArrayList.size());
            <span class="hljs-keyword">if</span> (result!=i&amp;&amp;!options.contains(result)){
                options.add(result);
            }
        }
        <span class="hljs-keyword">int</span> result=random.nextInt(<span class="hljs-number">4</span>);
        options.add(result,i);
        questionArrayList.get(i).setOptions(options);
        questionArrayList.get(i).setAnswer(result);
        isCorrectList.add(<span class="hljs-keyword">false</span>);
        userAnswer.add(<span class="hljs-number">4</span>);
    }
}
</div></code></pre>
<p>the application will randomly select 8 question and generate each question's option. The main code is :</p>
<pre class="hljs"><code><div> <span class="hljs-keyword">while</span>(options.size()&lt;=<span class="hljs-number">3</span>){
    <span class="hljs-keyword">int</span> result=random.nextInt(questionArrayList.size());
    <span class="hljs-keyword">if</span> (result!=i&amp;&amp;!options.contains(result)){
        options.add(result);
    }
}
</div></code></pre>
<p>Due to the small scale, the speed is very fast.</p>
<h3 id="rotation-of-phone">Rotation of phone</h3>
<p>Due to the characteristics of the <em>Java Virtual Machine</em>, the static variables in the class will always exist from the time the class is loaded to the end of the program. Thus, I did not use <em>ViewModel</em> but chose to set all the variables that need to be used throughout the life cycle of the program into static variables, which means no matter how the program status changes, all data is correctly stored and displayed before the program ends. The following code is an example:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Question</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Serializable</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ArrayList&lt;Question&gt; questionArrayList=<span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ArrayList&lt;Integer&gt; userAnswer=<span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ArrayList&lt;Boolean&gt; isCorrectList=<span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
}
</div></code></pre>
<p>The questions, answers are static variables. So, when user rotates his/her phone in <code>Quiz</code> Activity, the user's answers and the order of the questions will no change.</p>
<div  align="center">    
    <img src="img/score2.png" width = "40%" alt="图片名称" align=center style="margin:10px"/>
</div>
<div  align="center">
    <img src="img/score3.png" width = "90%" alt="图片名称" align=center style="margin:10px"/>
</div>
<h3 id="handling-of-exceptions">Handling of Exceptions</h3>
<ul>
<li>No Internet
<ul>
<li>Since the <em>Login/Logout</em> activity need Internet, the whole application will never go further if there is no Internet connection</li>
</ul>
</li>
<li>No local file or downloading error
<ul>
<li>If there is no local file, the version number will be -1, it will compare with the server version number and call the <em>Update</em> activity. If user chooses <em>No</em> button in <em>Update</em> activity, the application will toast an error message. Since no data is read in memory, when user clicks the <em>Start Quiz</em>, the application will also toast an error message and not go further to prevent errors.</li>
<li>If there is a downloading error, the file will not be stored correctly. When the application read the file, the program will throw an exception, and the exception will be caught and handled.</li>
</ul>
</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>Overall, we can divide the entire project into two parts: the front end and the back end. The back end is responsible for storing data and processing user requests, while the front end provides a user interface to display data. In this application, the main data are getting from the server. The front-end and back-end separation architecture model is more conducive to the development of applications for other platforms.</p>
<h3 id="new-vewsion">New Vewsion</h3>
<p>In my opinion, the user interface can be optimized. We can also develop the forum function so that users can communicate and share with each other, not just the score ranking.</p>
<h3 id="major-features-of-android">Major Features of Android</h3>
<ul>
<li>Writing and reading of internal storage</li>
<li>Network access</li>
<li>UI widgets of Android Sysytem</li>
</ul>

</body>
</html>
